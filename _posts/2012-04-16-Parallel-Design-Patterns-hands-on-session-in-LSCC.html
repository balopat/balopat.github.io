---           
layout: post
title: Parallel Design Patterns hands-on session in LSCC
date: 2012-04-16 15:57:00 UTC
updated: 2013-12-14 19:44:55 UTC
comments: false
categories: c# concurrency craftsmanship java parallelism ruby
---
 
 
<p>It all started when I was ironing my shirts and watching <a href="http://software.intel.com/en-us/videos/channel/parallel-programming/design-patterns-for-parallel-programming-learning-to-think-parallel/1127391618001" target="_self">this video</a>&#0160;from Timothy Mattson about their book,&#0160;<a href="http://www.amazon.co.uk/Patterns-Parallel-Programming-Software/dp/0321228111" target="_self">Patterns for&#0160;Parallel &#0160;Programming</a>. I was planning for some time now to dive deeper into studying concurrency and I did not really know where to start, but Timothy Mattson picted such a convincingly simple approach through design patterns that I decided to buy the book and started reading. LSCC was just looking for someone to organize the next hands-on session which was three weeks later, so I decided that I speed up my learning with creating an excersice and a small presentation.&#0160;</p><p>&#0160;</p><div class="prezi-player"><object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" height="400" id="prezi_zjbs3e_b31q9" name="prezi_zjbs3e_b31q9" width="550"><param name="movie" value="http://prezi.com/bin/preziloader.swf" /><param name="allowfullscreen" value="true" /><param name="allowscriptaccess" value="always" /><param name="bgcolor" value="#ffffff" /><param name="flashvars" value="prezi_id=zjbs3e_b31q9&amp;lock_to_path=0&amp;color=ffffff&amp;autoplay=no&amp;autohide_ctrls=0" /><embed allowfullscreen="true" allowscriptaccess="always" bgcolor="#ffffff" flashvars="prezi_id=zjbs3e_b31q9&amp;lock_to_path=0&amp;color=ffffff&amp;autoplay=no&amp;autohide_ctrls=0" height="400" id="preziEmbed_zjbs3e_b31q9" name="preziEmbed_zjbs3e_b31q9" src="http://prezi.com/bin/preziloader.swf" type="application/x-shockwave-flash" width="550" /></object><div class="prezi-player-links"><p><a href="http://prezi.com/zjbs3e_b31q9/parallel-dp-hands-on-session/" title="Parallel DP hands-on session">Parallel DP hands-on session</a> on <a href="http://prezi.com">Prezi</a></p><p>The four design spaces described in the book are</p><ul><li><strong>Finding Concurrency</strong>: identify the available concurrency and expose it for use in the algorithmic design</li><li><strong>Algorithm Structure</strong>: work with high level structures for organizing a parallel algorithm</li><li><strong>Supporting Structures</strong>: source code level considerations &amp; data sharing techniques.</li><li><strong>Implementation Mechanisms</strong>: specific implementation constructs: thread/process handling, synchronizations, etc.</li></ul></div><div class="prezi-player-links">The goal of the session was to introduce the DivideAndConquer design pattern through a simple excercise.&#0160;</div><h2 class="prezi-player-links">The exercise</h2><div class="prezi-player-links">The task is to implement a minimum value finder class for an integer-&gt;integer function. &#0160;</div><div class="prezi-player-links">The requirements for functionality and performance are expressed in a unit test.&#0160;</div><div class="prezi-player-links"><p><strong>Part I.</strong>&#0160;Make the&#0160;<a href="https://github.com/balopat/Parallel-Design-Patterns/tree/master/src/test/java/org/lscc/minfinder/MinValueFinderTest.java">MinFinderTest</a>&#0160;green!</p><p>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;1. Solve <em>the functional tests sequentially</em>! The last test is using&#0160;<code>@Test(timeout=x)</code>! Don&#39;t bother with it yet!</p><p>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;2. Now is the time: Make the timing test PASS by&#0160;<em>porting your application to parallel</em></p><ul><li>Identify/Create classes which you will use for the Problem and Solution generics. (this refers to Finding Concurrency, how will you decompose your tasks and data?)</li><li>use the DivideAndConquer pattern (make your MinValueFinder class extend the&#0160;<a href="https://github.com/balopat/Parallel-Design-Patterns/tree/master/src/main/java/org/lscc/parallelpatterns/divideandconquer/DivideAndConquer.java">DivideAndConquer abstract class</a>)</li></ul><p><strong>Part II.</strong>&#0160;Play with it!</p><p>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;3. Refactor the code so MinimumFinder does not use the abstract class! We don&#39;t want these patterns to explicitly dwell in our codebase!</p><p>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;4. Introduce &quot;a knob&quot; to make the degree of parallelism configurable, and reach the lowest possible resource occupation (i.e. number of threads) within the performance requirements!</p><p>My solution and the summary about the event can be found in <a href="http://blog.balopat.com/2012/04/a-solution-for-the-parallel-design-patterns-hands-on-session-in-lscc.html" target="_self">my second post</a>.</p></div></div>